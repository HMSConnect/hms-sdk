var me=null,domain=null;function isMe(e){return e.getAttribute("src").includes("hms-widget-sdk")}for(var scripts=document.getElementsByTagName("script"),i=0;i<scripts.length;++i)if(isMe(scripts[i])){const e=(me=scripts[i]).getAttribute("src").split("/");e.pop(),domain=e.join("/")}var loadJsFile=function(e,t){let i=document.createElement("script");i.src=e,i.onload=function(){t&&t()},i.type="text/javascript",i.async=!1,i.defer=!1;const r=document.getElementsByTagName("script")[0];r.parentNode&&r.parentNode.insertBefore(i,r)},defaultIframe={src:"",qs:"",iframeElement:void 0,theme:void 0,customTheme:void 0,width:"300px",height:"300px",href:"https://hms-widget.bonmek.com",pathPrefix:"embedded-widget"},hmsWidget={iframeObject:void 0,init:function(e){iframeObject=defaultIframe;const t=document.getElementById(e.selector);iframeObject.iframeElement=document.createElement("iframe"),iframeObject.iframeElement.setAttribute("width",e.width||iframeObject.width),iframeObject.iframeElement.setAttribute("height",e.height||iframeObject.height),t.appendChild(iframeObject.iframeElement),e.href&&(iframeObject.href=e.href),e.pathPrefix&&(iframeObject.pathPrefix=e.pathPrefix),iframeObject.src=`${iframeObject.href}/${iframeObject.pathPrefix}/${e.widgetPath}`},setParams:function(e,t){const i=queryStringify({...e,isWaitForIframeLoaded:!0});iframeObject.qs=i},setTheme:function(e){iframeObject.theme=e},setCustomizeTheme:function(e){iframeObject.customTheme=e},render:function(e){e();try{iframeObject.iframeElement.onload=function(){const e=createMessageEvents(iframeObject.iframeElement,["finishIframeLoading","setTheme","setCustomTheme"]);iframeObject.theme&&e.setTheme(iframeObject.theme),iframeObject.customTheme&&e.setCustomTheme(iframeObject.customTheme),e.finishIframeLoading()},console.info("iframeObject.src :",`${iframeObject.src}${iframeObject.qs?`?${iframeObject.qs}`:""}`),iframeObject.iframeElement.setAttribute("src",`${iframeObject.src}${iframeObject.qs?`?${iframeObject.qs}`:""}`)}catch(e){console.error("error: ",e)}}};window.hmsWidgetAsyncInit=function(e){loadJsFile(`${domain}/message-utils.min.js`),loadJsFile(`${domain}/stringify.min.js`,()=>{hmsWidget.render((function(){e(hmsWidget)}))})},window.hmsWidget=hmsWidget;